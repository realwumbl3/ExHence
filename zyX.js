/*! For license information please see zyX.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.zyX=t():e.zyX=t()}(self,(()=>(()=>{"use strict";var __webpack_modules__={455:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function zyxTransform(e){const t={};let n={};function o(t){if(null===t)n={};else for(let[e,o]of Object.entries(t))null!==o?(includesOperators(o)&&(o=operateOnTransform(n[e],o)),n[e]=o):delete n[e];e.style.transform="";for(let[t,o]of Object.entries(n))e.style.transform+=`${t}(${o})`}Object.assign(e,{set:o,snapshot:function(e){t[e]={...n}},restore:function(e){if(!(e in t))return!1;o(null),o(t[e])}})}__webpack_require__.d(__webpack_exports__,{A:()=>zyxTransform});const includesOperators=e=>e.match(/([-+*\/=][=])+/);function modifierDecontruct(e){try{if("=="===e)return[void 0,"",""];const[,t,n,o]=/^([-+*\/][=])?([-+.0-9]+)([a-z%]*)$/.exec(e);return[t,parseFloat(n),o]}catch(t){console.error("deconstructor error",t,"string_in:",e)}}function operateOnTransform(current_string,set_string){if(void 0===current_string)return set_string.replaceAll(/[-+*\/][=]?/g,"");const current=current_string.replaceAll(" ","").split(",").map(modifierDecontruct),set_operations=set_string.replaceAll(" ","").split(",").map(modifierDecontruct).map((([set_operator,set_val,set_unit]=_,i)=>{let[,current_val,current_unit]=current[i];return set_operator?eval(`current_val${set_operator}${set_val}`)+(set_unit||current_unit):(set_val||current_val)+(set_unit||current_unit)}));return set_operations.join(",")}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AsynConstructor:()=>F,AsyncWorker:()=>O,FocusController:()=>be,Focusable:()=>ke,Fuze:()=>T,ScrollTo:()=>Fe,WeakRefSet:()=>x,ZyXArray:()=>M,ZyXAudio:()=>re,ZyXDomArray:()=>E,ZyXEvents:()=>se,ZyXHtml:()=>b,ZyXInput:()=>xe,breakDelayChain:()=>q,calculateDominantColor:()=>Pe,ceilClamp:()=>J,clamp:()=>G,clearAllSelections:()=>Ce,clearDelay:()=>I,css:()=>A,debounce:()=>W,default:()=>ze,delay:()=>z,delayChain:()=>j,exposeToWindow:()=>Z,forEachShadowRoot:()=>Le,forQuery:()=>H,functions:()=>t,getAllShadowRoots:()=>De,hexToHSL:()=>K,hexToRGB:()=>V,html:()=>w,isMobile:()=>Ie,minMax:()=>ee,offset:()=>D,offsetLimit:()=>L,placeSafely:()=>U,pointerEventPathContains:()=>N,pointerEventPathContainsMatching:()=>B,queryAllRoots:()=>Oe,resizeImageToCanvas:()=>p,seedRandom:()=>ne,seedShuffle:()=>te,setProps:()=>R,sleep:()=>C,ss:()=>Q,timeoutLimiter:()=>$,urlSplitExt:()=>f,zyXCookie:()=>oe,zyXFetchBlob:()=>d,zyXFormPost:()=>u,zyXGet:()=>l,zyXPost:()=>c,zyXTransform:()=>Ae.A,zyxcss:()=>P});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ClickPop:()=>m,ShadowRoot:()=>v,Uplate:()=>_});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{XboxControllerMap:()=>he,angleDistanceToTranslate:()=>ue,angleToDirection:()=>ae,calculateAngle:()=>ce,calculateFourAngleSnap:()=>le,rotateDegrees:()=>ie});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{click:()=>pe,clickOne:()=>de,clickOrTwo:()=>ye,hrefDoubleClick:()=>ve,pointerDownMoveUp:()=>me,rightClick:()=>fe,wheel:()=>_e});class o{constructor(e,t,n){this.keyname=e,this.type=t,this.node=n,this.setType="textContent",this.value=this.setValue(n.textContent)}set(e){return null==this.setValue(e)||this.updateNode(),!0}setValue(e){if(e===this.value)return!1;if(typeof e===this.type)return this.value=e;switch(this.type){case"number":return this.value=Number(e);case"string":return this.value=`${e}`}return!0}updateNode(){switch(this.setType){case"textContent":this.node.textContent=this.value;break;case"HTML":this.node.innerHTML=this.value}}}function s(e,t){e.hasOwnProperty(t)||(e[t]={})}const r="x0k8-zyxph-a9n3";function i(e){return`<${r} id='${e}'></${r}>`}function a(e){const t=e.match(/id='(.*?)'/);return t?.length>0?t[1]:null}function c(e,t){return fetch(e,{headers:new Headers({"Content-Type":"application/json"}),method:"POST",credentials:"include",body:JSON.stringify(t)})}function l(e){return fetch(e,{headers:new Headers({"Content-Type":"application/json"}),method:"GET",credentials:"include"})}function u(e,t){const n=new FormData;return Object.entries(t).forEach(n.append),fetch(e,{method:"POST",body:n})}function h(e){return new Promise(((t,n)=>{const o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onload=()=>{o.remove(),t({link:o,remove:()=>o.remove()})},o.onerror=n,o.href=e,document.head.appendChild(o)}))}async function d(e){const t=await fetch(e);if(t.ok){const e=await t.blob();return{blob:e,objectURL:URL.createObjectURL(e)}}throw new Error("blobFetch failed")}async function p(e,t){const n=await async function(e){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=n,o.src=e}))}(e);t=t||512;const o=document.createElement("canvas"),s=o.getContext("2d"),[r,i]=function(e,t,n){if(e>n||t>n){const o=n/Math.max(e,t);return[e*o,t*o]}return[e,t]}(n.width,n.height,t);return o.width=r,o.height=i,s.drawImage(n,0,0,r,i),o}function f(e){const t=e.replace(/^.*[\\\/]/,"").split("?")[0];return{filename:t,ext:t.split(".").pop()}}function m({node:e}){e.addEventListener("pointerdown",(function(t){const n=e.getBoundingClientRect();w`
			<div class="zyx-expand_circle_ctn" this=ctn>
				<div class="zyx-expand_circle" this=circle style="left:${n.width*((t.clientX-n.x)/n.width)}px;top:${n.height*((t.clientY-n.y)/n.height)}px"></div>
			</div>
		`.const().appendTo(e).pass((e=>e.circle.addEventListener("animationend",(t=>e.ctn.remove()))))}))}function _({node:e,data:t}){e.templates={},e.active_template="default",e.add=({template_name:t,template:n,carry_values:o}={})=>{if(t in e.templates)return e;e.templates[t]={fragments:{},values:{}};const s=e.templates[t],r=e.templates[e.active_template];o&&r.values&&Object.assign(s.values,r.values),s.template=n;const i=n.match(/{([a-z0-9]*?){(.*?)}}/gm);if(i)for(const e of i){const t=/{([a-z0-9]*?){(.*?)}}/gm.exec(e),[n,o,r]=t;r&&(s.values[o]=r),s.fragments[n]=()=>s.values[o]}return e},e.switch=t=>(e.active_template=t,e.flash(),e),e.flash=t=>{const n=e.templates[e.active_template];let o=`${n.template}`;t&&Object.assign(n.values,t);for(const[e,t]of Object.entries(n.fragments))o=o.replace(e,t());return e.innerHTML=o,e},e.add({template_name:"default",template:e.innerHTML}).flash(t)}function v({node:e}){e.shadow=e.attachShadow({mode:"open"}),e.shadow.append(...e.childNodes),e.loadCSS=async t=>{if(Array.isArray(t)){for(const n of t)await e.loadCSS(n);return}const{link:n}=await h(t);e.shadow.append(n)}}const y={"zyx-array":({node:e,data:t})=>new E({container:e,...t.value}),...Object.fromEntries(Object.entries(e).map((([e,t])=>[`zyx-${e.toLowerCase()}`,t]))),...Object.fromEntries(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout","mouseenter","mouseleave","keydown","keypress","keyup","focus","blur","submit","load","error","input","change","scroll","pointerdown","pointermove","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointercancel","pointerlockchange","pointerlockerror","gotpointercapture","lostpointercapture","drag","dragstart","dragend","dragenter","dragover","dragleave","dragexit","dragdrop","touchstart","touchend","touchmove","touchcancel","touchenter","touchleave","touchforcechange"].map((e=>[`zyx-${e}`,({node:t,data:n})=>t.addEventListener([e],n.value)])))},g=`[${Object.keys(y).join("],[")}]`;function w(e,...t){return new b(e,...t)}class b{#e=!1;#t;#n;#o;#s;#r={};#i;#a;constructor(e,...t){this.#o=function(e){const t={};for(const[n,o]of Object.entries(e)){const e=typeof o,s=!("string"===e||"number"===e);t[n]=""!==o&&o?{type:e,value:o,placeholder:s?i(n):o}:{placeholder:""}}return t}(t);const n=String.raw({raw:e},...Object.values(this.#o).map((e=>e.placeholder)));this.#n=function(e){const t=document.createElement("div");return t.innerHTML=e,t}(n),function(e){const t=e.childNodes;for(let n=0;n<2;n++)t[n]&&3===t[n].nodeType&&""===t[n].textContent.trim()&&e.removeChild(t[n])}(this.#n),this.#a=new Proxy(this,{get:(e,t)=>this.hasOwnProperty(t)?this[t]:this.#r.hasOwnProperty(t)?this.#r[t].value:e[t],set:(e,t,n)=>this.#r.hasOwnProperty(t)?this.#r[t].set(n):e[t]=n})}bind(e){return this.#i=e,e.proxy=this.#a,e.__ZyXHtml__=this,e.appendTo=e=>this.appendTo(e),e.prependTo=e=>this.prependTo(e),e.place=e=>this.place(e),this.const()}const(){return this.#e||([...this.#n.querySelectorAll("ph")].forEach((e=>{const t=[...e.attributes][0].nodeName;e.setAttribute("ph",t),this.thisAssigner(e,t)})),[...this.#n.querySelectorAll("[pr0x]")].forEach((e=>{e.__key__=e.getAttribute("pr0x"),this.#r[e.__key__]=new o(e.__key__,"string",e)})),[...this.#n.querySelectorAll("[zyx-proxy]")].forEach((e=>{e.proxy=this.#a})),[...this.#n.querySelectorAll("[this]")].forEach((e=>{this.thisAssigner(e,e.getAttribute("this")),e.removeAttribute("this")})),[...this.#n.querySelectorAll("[push]")].forEach((e=>{this.pushAssigner(e,e.getAttribute("push")),e.removeAttribute("push")})),e=this.#n,t=this.#o,new Set(e.querySelectorAll(g)).forEach((e=>{const n=[...e.attributes].filter((e=>e.name.startsWith("zyx-"))).filter((e=>e.name in y));for(const o of n){const n=a(o.value);n?(y[o.name]({node:e,data:t[n]}),e.removeAttribute(o.name)):y[o.name]({node:e,data:o.value})}})),function(e,t){try{for(const n of[...e.querySelectorAll(r)])n.replaceWith(k(t[n.id].value));const n=e.innerHTML.match(i("(.*?)"));if(n)for(const o of n){const n=a(o),{placeholder:s,value:r}=t[n];e.innerHTML=e.innerHTML.replace(s,r)}}catch(n){throw console.log({markup:e,templateData:t}),n}}(this.#n,this.#o),this.#t=this.#n.childNodes.length>1?function(e){const t=document.createElement("template");return t.content.append(...e.childNodes),t}(this.#n):this.#n,this.#s=this.#t instanceof HTMLTemplateElement,this.#s?this.#t=this.#t.content:this.#t=this.#t.firstElementChild,this.#n=null,this.#o=null,this.#e=!0),this;var e,t}markup(){return this.const().#t}appendTo(e){return e.append(this.markup()),this}prependTo(e){return e.prepend(this.markup()),this}place(e){return function(e,t){if("object"==typeof t)return t.replaceWith(e);const n=document.querySelector(`ph[${t}]`);if(!n)throw new Error(t,"not found");n.replaceWith(e)}(this.markup(),e),this}touch(e){return e({proxy:this.#a,markup:this.markup()}),this}pass(e){return this.const()&&e(this),this}thisAssigner(e,t){const n=t.split(" ");if(1===n.length){const t=n[0];return e.__key__=t,this[t]=e,void(this.#i&&(this.#i[t]=e))}const[o,r]=n;s(this,o),this[o][r]=e,this.#i&&(s(this.#i,o),this.#i[o][r]=e),e.__group__=o,e.__key__=r}pushAssigner(e,t){this.hasOwnProperty(t)||(this[t]=[],this.#i&&(this.#i[t]=this[t])),e.__key__=t,this[t].push(e)}}function k(e){return e?Array.isArray(e)?function(e){const t=document.createElement("template");return t.content.append(...(n=e,n.map(k))),t;var n}(e).content:"function"==typeof e?k(e()):e?.__ZyXHtml__?e.__ZyXHtml__.markup():e instanceof b?e.markup():e instanceof HTMLTemplateElement?e.content:e:""}class x extends Set{add(e){super.add(new WeakRef(e))}forEach(e){for(const t of this.get())e(t)}delete(e){for(const t of[...super.values()])if(t.deref()===e)return super.delete(t);return!1}singleize(e){for(const t of[...super.values()])t.deref()!==e&&super.delete(t)}get(){return[...super.values()].map((e=>{const t=e.deref();return void 0===t?!super.delete(e):t})).filter((e=>e))}}class T{#o;#c;constructor(e,t){this.true=e,this.false=!e,this.#o=t,this.#c=Math.random().toString(36).substring(7)}reset(e){return this.true=!1,this.false=!0,"function"==typeof e&&e(),this}falseTrue(e,t,...n){return this.true?t(...n):e(...n),this}setTrue(){return this.true=!0,this.false=!1,this}setFalse(){return this.true=!1,this.false=!0,this}}class E{#l;#u;#h;#d;#p=new WeakMap;#f;#m;#_=null;constructor({container:e=e,array:t=null,compose:n=null,debounce:o=0,range:s=null,after:r=null}={}){if(!(t instanceof M))throw new Error("zyXDomArray target must be zyXArray");this.#l=e,e.__zyXArray__=this,this.#h=n,this.#d=r,this.#u=t,this.#m=s,this.#f=o,this.#u.addListener(this.arrayModified),this.update()}arrayModified=(e,t,...n)=>{if(console.log({array:e,method:t,elements:n}),this.#f<=0)return this.update();this.#_&&clearTimeout(this.#_),this.#_=setTimeout((()=>{this.#_=null,this.update()}),this.#f)};forEach(e){for(const t of this.entries())e(t)}entries(){return[...this.#l.children].map((e=>[e,this.#p.get(e)]))}get(e){return this.#p.get(e)}getTarget(){let e=Object.values(this.#u);return null!==this.#m&&e.length>Math.abs(this.#m)?this.#m<0?e.slice(e.length+this.#m,e.length):e.slice(0,this.#m):e}createCompose(e,...t){return this.#h?"object"==typeof this.#h.prototype?new this.#h(e,...t):this.#h(e,...t):e}update(){this.#l.innerHTML="";const e=this.getTarget(),t={item:null,element:null};let n=0;for(const s of e){const r=e[n+1],i=(o=this.createCompose(s,{prev:t,next:r,index:n}))instanceof b?o.markup():o?.__ZyXHtml__?o.__ZyXHtml__.markup():void 0;if(i instanceof HTMLTemplateElement||i instanceof DocumentFragment)throw Error("cannot associate reactive object with a template element");this.#l.append(i),this.#p.set(i,s),"symbol"!=typeof s&&"object"!=typeof s||this.#p.set(s,i),t.item=s,t.element=i,n++}var o;this.#d&&this.#d()}}class M extends Array{#v=new x;addListener(e){this.#v.add(e)}removeListener(e){this.#v.delete(e)}constructor(...e){super(...e)}clear(){super.splice(0,this.length),this.#v.forEach((e=>e(this,"clear")))}push(...e){super.push(...e),this.#v.forEach((t=>t(this,"push",...e)))}pop(...e){super.pop(...e),this.#v.forEach((t=>t(this,"pop",...e)))}shift(...e){super.shift(...e),this.#v.forEach((t=>t(this,"shift",...e)))}unshift(...e){super.unshift(...e),this.#v.forEach((t=>t(this,"unshift",...e)))}splice(...e){super.splice(...e),this.#v.forEach((t=>t(this,"splice",...e)))}}class S{constructor({root:e}={}){w`
			<styles this=styles></styles>
		`.bind(this),e&&this.appendTo(e)}async loadUrl(e){const{link:t,remove:n}=await h(e);return this.styles.appendChild(t),{link:t,remove:n}}async str(e,...t){const n=String.raw(e,...t);if(!String(n).startsWith("url("))return w`
			<style this=style>${n}</style>
		`.appendTo(this.styles);{const e=n.split("url(").slice(1).map((e=>e.split(")")[0]));for(const t of e)await this.loadUrl(t)}}cloneType(e){return new S({root:e})}}const P=new S({root:"undefined"!=typeof document&&document.head}),A=(e,...t)=>P.str(e,...t);function D(e,t){return Math.max(0,(-t+e)/(1-t))}function L(e,t){return Math.min(1,e/t)}function C(e){return new Promise(((t,n)=>setTimeout(t,e)))}A`
	ph {
		display: none;
	}
`;class O{constructor({url:e,type:t="module"}={}){this.sW=new Worker(e,{type:t}),this.serviceWorkerTasks={},this.sW.onmessage=this.serviceWorkerResponse.bind(this),this.callbacks={}}on(e,t){e in this.callbacks||(this.callbacks[e]=[]),this.callbacks[e].push(t)}callCallback(e){const t=this.callbacks[e.event];if(t)for(const n of t)n(e.data)}serviceWorkerResponse(e){if("event"in e.data)return this.callCallback(e.data);const{taskID:t,reject:n}=e.data,o=this.serviceWorkerTasks[t];if(delete this.serviceWorkerTasks[t],n)return o.reject(n);o?.resolve(e.data)}task({task:e,data:t}){return new Promise(((n,o)=>{const s=Math.random().toString(36).slice(2,10),r={task:e,taskID:s,resolve:n,reject:o};this.serviceWorkerTasks[s]=r,this.sW.postMessage({task:e,data:t,taskID:s})}))}}class F{constructor({delay:e=1,microtask:t=!1}={}){"function"==typeof this.asynConstructor?t?queueMicrotask((e=>this.asynConstructor())):setTimeout((e=>this.asynConstructor()),e):console.warn("you are using a (new AsynConstructor()) class without an async asynConstructor method.")}}const X=new WeakMap;"undefined"!=typeof window&&(window.zyxMap=X);const Y=(e,t)=>{let n=X.get(e);return n||(X.set(e,{banks:{}}),n=X.get(e)),t in n.banks||(n.banks[t]={}),n.banks[t]};function j(e,t){const n=Y(e,"delayChains");if(t in n){for(const e of n[t].pending)clearTimeout(e);n[t].pending=[],n[t].callbacks=[]}else n[t]={callbacks:[],pending:[]};const o=()=>n[t].callbacks.length>0&&n[t].callbacks.splice(0,1)[0](),s=()=>({then:(e,r)=>(n[t].callbacks.push((()=>{n[t].pending.push(setTimeout((t=>{e(),o()}),r))})),s())});return n[t].pending.push(setTimeout(o,1)),s()}function q(e,t){const n=Y(e,"delayChains");if(t in n){for(const e of n[t].pending)clearTimeout(e);n[t]={callbacks:[],pending:[]}}}function z(e,t,n,o){return new Promise(((s,r)=>{const i=Y(e,"delays");t in i&&clearTimeout(i[t]),n=n||0,i[t]=o?setTimeout((()=>s(o())),n):setTimeout(s,n)}))}function I(e,...t){const n=Y(e,"delays");if(t.length>1)for(const e in t)e in n&&clearTimeout(n[e]);else clearTimeout(n[t[0]])}function W(e,t,n,o){const s=Y(e,"debouncers");if(t in s)s[t](n);else{try{n(),n=null}catch(e){throw new Error(e)}setTimeout((e=>{try{n&&n()}catch(e){throw new Error(e)}delete s[t]}),o),s[t]=e=>n=e}}function H(e,t,n){return[...e.querySelectorAll(t)].forEach((e=>n(e)))}function R(e,t){Object.entries(t).forEach((([t,n])=>e.style.setProperty(t,n)))}async function U(e,t,n,o){t.appendChild(e),e.style[o>=0?"top":"bottom"]=Math.abs(o)+"em",e.style[n>=0?"left":"right"]=Math.abs(n)+"em",await C(1);const{offsetWidth:s,offsetHeight:r}=e,{offsetWidth:i,offsetHeight:a}=t,{left:c,top:l,bottom:u,right:h}=e.getBoundingClientRect();(c<0||l<0||u>a||h>i)&&(u>a&&(e.style.top=a-r+"px"),h>i&&(e.style.left=i-s+"px"))}function $(e){const t={ago:0,key:null};return e=e||60,n=>n&&n!==t.key?(t.key=n,!0):!(performance.now()-t.ago<e||(t.ago=performance.now(),0))}function N(e,t){return(e.composedPath&&e.composedPath()).some((e=>e===t))}function B(e,t){return(e.composedPath&&e.composedPath()).some((e=>e.matches?.(t)))}function V(e){return e=e.replace("#",""),{r:parseInt(e.substring(0,2),16)/255,g:parseInt(e.substring(2,4),16)/255,b:parseInt(e.substring(4,6),16)/255}}function K(e){const{r:t,g:n,b:o}=V(e),s=Math.max(t,n,o),r=Math.min(t,n,o),i=(s+r)/2;let a=0;s!==r&&(a=i>.5?(s-r)/(2-s-r):(s-r)/(s+r));let c=0;return s!==r&&(c=s===t?(n-o)/(s-r):s===n?2+(o-t)/(s-r):4+(t-n)/(s-r)),c*=60,c<0&&(c+=360),{h:Math.round(c),s:Math.round(100*a),l:Math.round(100*i)}}function Z(e){for(const[t,n]of Object.entries(e))window[t]=n}function Q(e){return e>1?"s":""}function G(e,t,n){return Math.max(t,Math.min(n,e))}function J(e,t,n){return Math.min(Math.max(Math.ceil(e),t),n)}function ee(e,t,n){return Math.min(Math.max(e,t),n)}function te(e,t){for(let n=e.length-1;n>0;n--){const o=Math.floor(ne(t)*(n+1));[e[n],e[o]]=[e[o],e[n]],t++}return e}function ne(e){const t=1e4*Math.sin(e++);return t-Math.floor(t)}const oe=new class{constructor(){}get(e,t){const n=e+"=",o=decodeURIComponent(document.cookie),s=o.split(";");if(!o.includes(e))return this.set(e,t),t;for(let e in s){let t=s[e];for(;" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(n)){let e=t.substring(n.length,t.length);return"true"===e||"false"===e?"true"===e:e}}return""}set(e,t,n){const o=new Date;n?o.setTime(o.getTime()+24*n*60*60*1e3):o.setTime(o.getTime()+8639136e5);const s="expires="+o.toUTCString();document.cookie=`${e}=${t};${s};path=/`}delete(e){console.log("deleting cookie",e),this.set(e,"",-1)}};class se{#y={};on(e,t){e.includes(",")?e.split(",").forEach((e=>this.on(e,t))):(e in this.#y||(this.#y[e]=[]),this.#y[e].push(t))}call(e,...t){const n=this.#y[e];if(n)for(const e of n)e(...t)}}class re{constructor(e){this.AUDIO_ROOT=e,this.ctx=new AudioContext,this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.ctx.destination),this.SOUNDS={},this.muted=!1}addSound(e){return new Promise(((t,n)=>{if(Object.keys(this.SOUNDS).includes(e))return t();let o=new XMLHttpRequest;o.onload=o=>{this.ctx.decodeAudioData(o.target.response,(n=>{this.SOUNDS[e]=n,t(this.SOUNDS[e])}),(e=>{n(e)}))},o.open("GET",this.AUDIO_ROOT+e,!0),o.responseType="arraybuffer",o.send()}))}stop(e){e.stop&&e.stop(),e.disconnect&&e.disconnect()}toggleMute(){return this.muted=!this.muted,this.muted}createBuffer(e,t){const n=this.ctx.createBufferSource();return n.buffer=this.SOUNDS[e],n.connect(this.gainNode),t?n.onended=()=>t():t=()=>{this.stop(n)},n}createAndExecute(e,t){return this.createBuffer(e,t).start(0)}async play({source:e,name:t,looping:n=!1,delay:o=0,volume:s=1,loopOnEnded:r,n:i=0}={}){if(await this.addSound(t),0!==(s=this.muted?0:s)){if(this.gainNode.gain.value=function(e){return e<=0?0:e>=1?1:Math.pow(e,3)}(s),n||i){n=!0;let e=i-- >0;return r=()=>{!n||e&&i--<=0||setTimeout((e=>{this.createAndExecute(t,r)}),o)},{source:this.createAndExecute(t,r),stop:()=>n=!1}}this.createAndExecute(t)}}}function ie(e,t){return(e+t)%360}function ae(e){return["up","right","down","left"][Math.round(e/90)%4]}function ce(e,t,n,o){const s=n-e,r=o-t;let i=Math.atan2(r,s)*(180/Math.PI);return i<0&&(i+=360),i+=90,i>=360&&(i-=360),i}function le(e){return[0,90,180,270,0][Math.round(e/90)%4]}function ue(e,t){const n=(e=ie(e,-90))*Math.PI/180;return"translate("+t*Math.cos(n)+"px, "+t*Math.sin(n)+"px)"}const he={1:"x-uppad",2:"x-downpad",3:"x-leftpad",4:"x-rightpad",5:"x-menu",6:"x-start",7:"x-rightjoy",8:"x-leftjoy",9:"x-leftbumper",10:"x-rightbumper",13:"x-A",14:"x-X",15:"x-B",16:"x-Y"};function de(e,{onClick:t=null,onDown:n=null,once:o=!1,capture:s=!1,stopPropagation:r=!1,stopImmediatePropagation:i=!1,preventDefault:a=!0,label:c="click"}){const l=o=>{if(r&&o.stopPropagation(),i&&o.stopImmediatePropagation(),1!==o.which)return;const s=this.beforePointerEvent("clickone",o);if(!s)return;const a=n?.(o),{clientX:l,clientY:u,target:h}=o,d=new T(!0,{label:c});this.activeEvents.add(d);const{check:p}=this.moveTripper({startX:l,startY:u});e.addEventListener("pointerup",(e=>{!p(e)&&d.true&&e.target===h&&(this.kingOfTheStack(d),t({dwn_e:o,up_e:e,down_return:a},s))}),{once:!0})};return e.addEventListener("pointerdown",l,{once:o,capture:s}),a&&e.addEventListener("click",(e=>e.preventDefault()),{once:o,capture:s}),{unbind:t=>{e.removeEventListener("pointerdown",l,{capture:s}),e.removeEventListener("click",(e=>e.preventDefault()),{capture:s})}}}function pe(e,t){console.log("bind click"),e.setAttribute("click-enabled",""),e.addEventListener("pointerdown",(n=>{console.log("pointerdown");const o=this.beforePointerEvent("custom-click",n);if(console.log("caa",o),!o)return nullifyEvent(n);e.addEventListener("click",(()=>{console.log("lick"),t()}),{once:!0})}))}function fe(e,{onDown:t,onUp:n,once:o=!1,capture:s=!1,label:r="rightclick"}={}){this.on(e).pointerDownMoveUp({label:r,onDown:({dwn_e:o,b4:s,moveFuse:r,pointerDown:i,eventFuse:a}={})=>(t?.({dwn_e:o,b4:s}),ze(e).delay("pointer-down",this.mobilePressHoldDelay,(()=>{r.true||i.false||a.false||(this.kingOfTheStack(a),n({dwn_e:o}))})),!0),onUp:({up_e:e,dwn_e:t,moveFuse:o})=>{if("mouse"===e.pointerType&&2===e.button){if(o.true)return;n({up_e:e,dwn_e:t})}},once:o,capture:s})}function me(e,{onDown:t,onStartMove:n,onMove:o,onUp:s,once:r=!1,deadzone:i=null,capture:a=!1,captureMove:c=!1,verbose:l=!1,stopPropagation:u=!1,stopImmediatePropagation:h=!1,stopMovePropagation:d=!1,stopImmediateMovePropagation:p=!1,movePrecision:f=1,label:m="pointerDownMoveUp"}={}){const _=r=>{if(i=i||this.moveTripperDist,!this.beforePointerEvent("pointerDownMoveUp",r))return!1;const{eventFuse:a=new T(!0,{label:m}),pointerDown:_=new T(!0,{label:m}),startX:v,startY:y}={startX:r.clientX,startY:r.clientY};this.activeEvents.add(a);const{moveFuse:g,check:w}=this.deadzone({startX:v,startY:y,deadzone:i});u&&r.stopPropagation(),h&&r.stopImmediatePropagation();let{startAngle:b=null,moveCalledOnce:k=!1,latest_move_e:x=null,startMove:E,pixels_moved:M=0}={};const S=t({dwn_e:r,moveFuse:g,pointerDown:_,eventFuse:a,kingOfTheStack:e=>this.kingOfTheStack(a),pathContains:e=>N(r,e),pathContainsMatching:e=>B(r,e)});if(!S)return!1;const P=e=>ce(v,y,e.clientX,e.clientY),A=e=>Math.sqrt(Math.pow(e.clientX-v,2)+Math.pow(e.clientY-y,2)),D=e=>le(P(e)),L=t=>{try{if(a.false)return l&&console.log({element:e},"eventFuse.false, returning"),O();if(M++,f>1){if(M<f)return;M=0}if(x=t,!w(t))return;b||(b=P(t));const i={dwn_e:r,mv_e:t,startX:v,startY:y,startAngle:b,movementX:t.movementX,movementY:t.movementY,stop:O,up:C,moveFuse:g,startMove:E,kingOfTheStack:e=>this.kingOfTheStack(a),clearAllSelections:()=>this.clearAllSelections(),fourAngleSnap:()=>D(t),angleFromStart:()=>P(t),distanceFromStart:()=>A(t),direction:()=>ae(P(t))};if(d&&t.stopPropagation(),p&&t.stopImmediatePropagation(),k&&o)return o(i,S);if(n){if(E=n(i,S),!E)return!1;"object"==typeof E&&null!==E&&("onMove"in E||"onUp"in E)&&(E?.onMove&&(o=E.onMove),E?.onUp&&(s=E.onUp))}this.kingOfTheStack(a),k=!0}catch(e){console.error(e)}},C=e=>{_.setFalse(),O(),s&&s({dwn_e:r,up_e:e,mv_e:x,startX:v,startY:y,startAngle:b,startMove:E,moveFuse:g,onStartMove:n,fourAngleSnap:()=>D(e),angleFromStart:()=>P(e),distanceFromStart:()=>A(e),direction:()=>ae(P(e))},S)};document.addEventListener("pointermove",L,{capture:c}),document.addEventListener("pointerup",C),document.addEventListener("pointercancel",C);const O=e=>{document.removeEventListener("pointermove",L,{capture:c}),document.removeEventListener("pointerup",C),document.removeEventListener("pointercancel",C)}};return e.addEventListener("pointerdown",_,{once:r,capture:a}),{removeEventListener:t=>e.removeEventListener("pointerdown",_,{capture:a})}}function _e(e,{onWheel:t,capture:n=!1,passive:o=!1}={}){e.addEventListener("wheel",(e=>{t({whl_e:e,killPropagation:()=>e.stopPropagation()&&e.stopImmediatePropagation(),pathContains:t=>N(e,t),pathContainsMatching:t=>B(e,t)})}),{capture:n,passive:o})}function ve(e,...t){this.on(e).clickOrTwo({single:t=>window.open(e.href,"_blank"),double:t=>window.open(e.href,"_blank",["height=1400","width=1000","top=10","left=10"].join(","))})}function ye(e,{single:t,double:n,doubleWait:o=!1,cooldown:s,cooldownDuration:r=350,label:i="click-or-two",preventDefault:a=!0}={},{active_fuse:c=new T,db_fuse:l=new T}={}){this.on(e).clickOne({preventDefault:a,label:i,onClick:({dwn_e:e,up_e:i})=>{if(!s){if(c.true)return l.setTrue();ze({}).delay("click",o||this.clickOrTwoWindowMs,(()=>{c.reset(),l.falseTrue((n=>t(e)),(t=>{n(e),s=setTimeout((()=>s=null),r)})),l.reset()})),c.setTrue()}}})}class ge{constructor(e,t,{scrollTarget:n,overrideDefaultScroll:o=!1,onPointerMove:s,onScroll:r}={}){this.container=t,this.scrollTarget=n||t,this.velocityY=0,this.animating=!1,this.pointerDown=!1,this.friction=.94,this.direction="down",this.minVelocityY=1,this.maxVelIncr=20,this.maxVelocityY=400,this.smallDeltaStep={floor:10,culm:0,culmLimit:40,tick:50},o&&this.container.addEventListener("wheel",(e=>{r&&!r(e)||this.wheel(e)}),{capture:!0,passive:!1}),e.on(this.container).pointerDownMoveUp({capture:!0,captureMove:!0,onDown:()=>(this.pointerDown=!0,{selectionRange:window.getSelection()}),onStartMove:({direction:e,stop:t,clearAllSelections:n}={})=>{const o=e();return"left"===o||"right"===o?t():(n(),!0)},onMove:({mv_e:e,movementY:t}={},{}={})=>{if(e.stopPropagation(),e.stopImmediatePropagation(),0===t)return;this.container.classList.add("Scrolling"),s&&s({mv_e:e,movementY:t});let n=e.shiftKey?1:.5;e.altKey&&(n/=4);const o=t*-n;this.addVelocity(o)},onUp:()=>{this.container.classList.remove("Scrolling"),this.pointerDown=!1}}),this.tick_length=8,this.lastFramePerf=null}__animate__(){!this.animating&&(this.animating=!0)&&requestAnimationFrame(this.__frame__.bind(this))}__framedelta__(){const e=performance.now();if(null===this.lastFramePerf)return this.lastFramePerf=e,0;const t=e-this.lastFramePerf;return this.lastFramePerf=e,t/this.tick_length}__frame__(){const e=this.__framedelta__(),t=this.pointerDown?.95*this.friction:this.friction;this.velocityY*=Math.pow(t,e);const n=Math.abs(this.velocityY),o=this.velocityY*e;if(this.scrollTarget.scrollTop+=o,n<this.minVelocityY)return this.lastFramePerf=null,void(this.animating=!1);this.animating&&requestAnimationFrame(this.__frame__.bind(this))}checkCounterScroll(e){(e.deltaY>0&&this.velocityY<0||e.deltaY<0&&this.velocityY>0)&&(this.velocityY/=10)}resetVelocity(){this.velocityY/=10,this.__animate__()}addVelocity(e){(e>0&&this.velocityY<0||e<0&&this.velocityY>0)&&(this.velocityY/=10),this.velocityY=Math.min(this.velocityY+e,this.maxVelocityY),this.__animate__()}wheel(e){e.preventDefault(),e.stopPropagation(),this.checkCounterScroll(e),this.direction=e.deltaY>0?"down":"up",Math.abs(e.deltaY)<this.smallDeltaStep.floor?(this.smallDeltaStep.culm+=e.deltaY,Math.abs(this.smallDeltaStep.culm)>this.smallDeltaStep.culmLimit&&(this.addVelocity(this.smallDeltaStep.tick*this.direction=="down"?1:-1),this.smallDeltaStep.sum=0)):this.addVelocity(.1*e.deltaY)}}class we{constructor(){this.tapsToExit=3,this.backPresses=this.tapsToExit,window.history.pushState({},""),window.addEventListener("popstate",(()=>this.handleBackButton())),w`
			<div this="tap_indicator" class="tap-to-exit-confirm">
				<div class="tap-to-exit-label" pr0x="nth">Go back 3 more times to exit app.</div>
			</div>
		`.bind(this),this.onBack=[]}handleBackButton(){const e=this.onBack.sort(((e,t)=>e.weight>t.weight?1:-1));for(const t of e){const e=t.cb.deref();if(e){if(e())return void window.history.pushState({},"")}else this.onBack.splice(this.onBack.indexOf(t),1)}this.backPresses<3&&window.navigator.vibrate([300]),ze(this).delay("back-panic",700,(()=>{this.backPresses=this.tapsToExit,window.history.pushState({},""),this.tap_indicator.classList.remove("visible")})),this.tap_indicator.classList.add("visible");const t=Math.max(1,this.backPresses);var n;return this.proxy.nth=`Go back ${t} more time${n=t,n>1?"s":""} to exit app.`,this.backPresses--,Ie()&&this.backPresses<=0||this.backPresses<0?window.history.back():void window.history.pushState({},"")}on(e,t){this.onBack.push({cb:new WeakRef(e),weight:0,...t})}}class be{constructor(e){this.default_focusable=e,this.focused_module_ref=null}getFocusedModule(){const e=this.focused_module_ref?.deref();return e?!e?.__focusable__ instanceof ke?(raise("Module is not binded with focusable class."),null):e:null}setDefaultFocusable(e){if(!e.__focusable__ instanceof ke)throw new Error("Module is not focusable class.");this.default_focusable=e}setFocus(e){const t=this.getFocusedModule();if(t&&t.__unFocus__?.(),null===e&&(e=this.default_focusable),!e.__focusable__)throw new Error("Module is not focusable class.");e=e.__focusable__.redirect(),this.focused_module_ref=new WeakRef(e),e.__focus__?.()}}class ke{constructor(e){this.module=e,this.focused=!1,this.redirect_to=null}redirect(){const e=this.redirect_to?.deref();return e||this.module}setRedirection(e){e||(this.redirect_to=null),this.redirect_to=new WeakRef(e)}focus(){this.focused=!0}unFocus(){this.focused=!1}}class xe{constructor({customQueryFunc:e,customClearSelections:t,onKeyPress:n=null}={}){this.onKeyPress=n,this.customQueryFunc=e,this.customClearSelections=t,this.focus=new be,this.enabledDefaults=["Tab","Esc","F5","F11","F12","KeyI","KeyC","KeyV","KeyX"],document.addEventListener("keypress",(e=>this.keyEvent("keypress",e))),document.addEventListener("keydown",(e=>this.keyEvent("keydown",e))),document.addEventListener("keyup",(e=>this.keyEvent("keyup",e))),this.keyCooldown=$(100),this.activeEvents=new x,this.openModals=new x,document.addEventListener("click",(e=>!this.beforePointerEvent("default-click",e)&&Te(e))),this.mouse={x:0,y:0,pointerDown:!1},document.addEventListener("pointermove",(e=>(this.mouse.x=e.clientX,this.mouse.y=e.clientY))),document.addEventListener("pointerdown",(e=>(this.mouse.x=e.clientX,this.mouse.y=e.clientY,this.mouse.pointerDown=!0))),document.addEventListener("pointerup",(e=>this.mouse.pointerDown=!1)),document.addEventListener("pointerleave",(e=>this.mouse.pointerDown=!1)),document.addEventListener("contextmenu",(e=>{if(e.shiftKey||B(e,"[context-menuable]"))return!1;Te(e)})),this.on(document).dragstart((e=>{})),this.listenToController=!1,this.clickOrTwoWindowMs=350,this.moveTripperDist=5,this.mobilePressHoldDelay=550,this.backHandler=new we(this),this.backHandler.on((e=>this.processModalEvent()),{weight:1e3})}on(e){return new Proxy(n,{get:(t,n)=>this.customEventHandlers(e,n)})}customEventHandlers(e,t){if(n[t])return(...o)=>n[t].bind(this)(e,...o);switch(t){case"pointerdown":case"pointerup":case"dragstart":return n=>{e.addEventListener(t,(e=>{const o=this.beforePointerEvent(t,e);n(e,o)}))};default:throw new Error(`Event function ${t}(elem, ...args) not found in ZyXInput.presets`)}}bindMomentumScroll(e,t){return new ge(this,e,t)}queryApplication(e){return this?.customQueryFunc?.(e)||document.querySelectorAll(e)}clearAllSelections(){this?.customClearSelections?.()||window.getSelection().removeAllRanges()}nullAllEvents(){this.activeEvents.clear()}kingOfTheStack(e){this.activeEvents.singleize(e)}beforePointerEvent(e,t){const n=t.target?.matches("input[type=checkbox] , input[type=radio] , button");if(n)return t.stopPropagation(),t.stopImmediatePropagation(),!0;switch(e){case"default-click":if(!t.pointerType)return!0;if(t.target?.matches("[click-enabled]"))return!1;case"pointerdown":case"dragstart":if(t.target?.matches("a, [click-enabled]"))return!1;case"pointerDownMoveUp":case"pointerdown":case"dragstart":case"custom-click":case"clickone":case"clickortwo":if(this.processModalEvent(t))return!1;default:return!0}}processModalEvent(e){const t=this.openModals.get();return t.length<0||t.length>0&&(!e||!B(e,"[zyx-input-modal]"))&&(t.forEach((e=>e.clickedOutside(e))),this.nullAllEvents(),e.stopPropagation(),e.stopImmediatePropagation(),this.openModals.clear(),!0)}isolateEventWithinContainer(e,t){this.openModals.add(e),e.setAttribute("zyx-input-modal",""),e.clickedOutside=t.bind(e)}moveTripper({startX:e,startY:t,deadzone:n}={}){const{moveFuse:o,check:s}=this.deadzone({startX:e,startY:t,deadzone:n});return document.addEventListener("pointermove",s),document.addEventListener("pointerup",(()=>document.removeEventListener("pointermove",s)),{once:!0}),{moveFuse:o,check:s}}deadzone({startX:e,startY:t,deadzone:n=this.moveTripperDist,moveFuse:o=new T}={}){return{moveFuse:o,check:s=>(Math.hypot(s.clientX-e,s.clientY-t)>n&&o.setTrue(),o.true)}}async keyEvent(e,t){try{if(!this.keyCooldown()||!("key"in t))return;if(t.ctrlKey||t.metaKey||this.queryApplication("input:focus,textarea:focus").length>0)return!1;this?.onKeyPress?.(e,t);const n=this.focus.getFocusedModule();if("function"!=typeof n?.keyEvent)return!1;t.joy||this.enabledDefaults.includes(t.code)||(t.preventDefault(),t.stopPropagation()),await(n?.keyEvent(e,t))}catch(n){throw console.error("[Key Event Error Additional Context]",{event:e,e:t}),n}}socketXinputEvent(e){if(!this.listenToController)return;const t=1===e.pressed?"keydown":"keyup";this.keyEvent(t,{joy:!0,key:he[e.button]})}}function Te(e){return e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1}const Ee=document.createElement("canvas");Ee.width=500,Ee.height=500;const Me=200,Se=Ee.getContext("2d",{willReadFrequently:!0});function Pe(e){return new Promise(((t,n)=>{const o=new Image;o.crossOrigin="Anonymous";let s,r,i=-4,a={r:0,g:0,b:0},c=0;o.src=e,o.onload=()=>{if(Se.drawImage(o,0,0,500,500),!Se)return t();try{s=Se.getImageData(0,0,500,500)}catch(e){return console.log("error",e),t()}for(r=s.data.length;(i+=120)<r;)++c,a.r+=s.data[i],a.g+=s.data[i+1],a.b+=s.data[i+2];o.remove(),a.r=~~(a.r/c),a.g=~~(a.g/c),a.b=~~(a.b/c);const e=a.r/=255,n=a.g/=255,l=a.b/=255,u=Math.min(e,n,l),h=Math.max(e,n,l),d=h-u;let p=0,f=0,m=0;p=0==d?0:h==e?(n-l)/d%6:h==n?(l-e)/d+2:(e-n)/d+4,p=Math.round(60*p),p<0&&(p+=360),m=(h+u)/2,f=0==d?0:d/(1-Math.abs(2*m-1)),f=(100*f).toFixed(1),m=(100*m).toFixed(1),f<3&&(p=Me),t({h:p,s:f,l:m})}}))}var Ae=__webpack_require__(455);function De(){return[...document.querySelectorAll("zyx-shadow-root")].map((e=>e.shadow))}function Le(e){De().forEach(e)}function Ce(){Le((e=>e.getSelection?.().removeAllRanges())),document.getSelection?.().removeAllRanges()}function Oe(e){const t=[];return Le((n=>t.push(...n.querySelectorAll(e)))),t.push(...document.querySelectorAll(e)),t}async function Fe(e,{top:t,left:n}={}){if(!Xe.has(e)){const o=new Ye(e,t,n);return Xe.set(e,o),new Promise((e=>{o.onend=e,o.start()}))}Xe.get(e).update_target({top:t,left:n})}const Xe=new WeakMap;class Ye{constructor(e,t,n){this.container=e,this.target={top:t,left:n},this.startContext={startTop:e.scrollTop,startLeft:e.scrollLeft},this.startTime=performance.now(),this.onend=null,this.duration=200}update_target({top:e,left:t}){void 0!==e&&(this.target.top=e),void 0!==t&&(this.target.left=t),this.startContext={startTop:this.container.scrollTop,startLeft:this.container.scrollLeft},this.startTime=performance.now()}frame(){const e=performance.now()-this.startTime,{top:t,left:n}=this.target,{startTop:o,startLeft:s}=this.startContext,r="easeInOutQuad";e<this.duration?(this.container.scrollTop=je[r](e,o,t-o,this.duration),this.container.scrollLeft=je[r](e,s,n-s,this.duration),requestAnimationFrame(this.frame.bind(this))):(this.container.scrollTop=t,this.container.scrollLeft=n,Xe.delete(this.container),this.onend())}start(){requestAnimationFrame(this.frame.bind(this))}}const je={easeInOutQuad:(e,t,n,o)=>(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,easeInQuad:(e,t,n,o)=>n*((e/=o)*e)+t,easeOutQuad:(e,t,n,o)=>-n*((e/=o)*e*e(e-2)+1)+t,easeBounce:(e,t,n,o)=>e<o/2.75?n*(7.5625*e*e)/(o*o)+t:e<o/2?n*(7.5625*(e-o/3)*(e-o/3))/(o*o)+t:e<o-o/29?n*(7.5625*(e-o/2.75)*(e-o/2.75))/(o*o)+t:n*(7.5625*(e-o)*(e-o))/(o*o)+t},qe={forQuery:H,setProps:R,events:function(e,t,n,o={}){t.split(" ").forEach((t=>e.addEventListener(t,n,o)))},delay:z,clearDelay:I,delayChain:j,breakDelayChain:q,debounce:W,of:(e,t)=>Array(e).fill().map(((e,n)=>t(n)))};function ze(e){return new Proxy(qe,{get:(t,n)=>{if(t.hasOwnProperty(n)){const o=t[n];return(...t)=>o(e,...t)}throw new Error(`zyX().${n} is not a function`)}})}function Ie(){return navigator.maxTouchPoints>0}})(),__webpack_exports__})()));